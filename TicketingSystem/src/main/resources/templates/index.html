<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">


<head>
    <link rel="stylesheet" th:href="@{css/bootstrap.min.css}" />
    <link rel="stylesheet" th:href="@{/css/index1.css}" />
    <meta charset="utf-8" />
    <title>Ticket Manager</title>
</head>

<body>
    <div class="hero-image">
        <div class="hero-text">
            <h1>Tickets List</h1>
            
        </div>
        <a class="button1" onClick="saveData()" href="/logout2">Logout</a>
    </div>
    <br />
    <br />

    
    <br /><br />


    <div align="center">
        <a class="button" href="/addticket">Book a New Ticket </a>
        &nbsp;&nbsp;&nbsp;
        <a class="button" th:href="@{/updateprofile}">Edit User Profile</a>



        <div class="container">
            <div class="row">
                <div class="col-lg-10 mt-5 mb-5">
                    <table class="styled-table" style="width: 80%">
                        <thead>
                            <tr>
                                <th>Ticket ID</th>
                                <th>Name</th>
                                <th>Departure Location</th>
                                <th>Destination Location</th>
                                <th>Contact Number</th>
                                <th>Travel Date</th>
                                <th>Return Date</th>
                                <th>Passengers</th>
                                <th>Options</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr align="center" th:each="ticket : ${listTickets}">
                                <td th:text="${ticket.id}">Ticket ID</td>
                                <td th:text="${ticket.name}">Name</td>
                                <td th:text="${ticket.departureLocation}">Departure Location</td>
                                 <td th:text="${ticket.destinationLocation}">Destination Location</td>
                                <td th:text="${ticket.contact}">Contact</td>
                                <td th:text="${ticket.travelDate}">Travel Date</td>
                                <td th:text="${ticket.returnDate}">Return Date</td>
                                <td th:text="${ticket.passengers}">Return Date</td>
                                <td>

<!--                                     <a class="oButton" th:href="@{'/edit/' + ${ticket.id}}">Edit</a>
 -->                            
                                    <a class="oButton" th:href="@{'/delete/' + ${ticket.id}}">Delete</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <button class="open-button" onclick="openQueryForm()">Have a Query?</button>
    <button class="open-feedback-button" onclick="openFeedbackForm()">Feedback</button>

    <div class="form-popup" id="myForm">
        <form action="#" th:action="@{/query}" method="post" class="form-container">
            <h3 align="center">
                Please enter the issue you're experiencing below and we'll be right
                with you!
            </h3>

            <div align="center">
                <label for="name"><b>Please Enter Your Name:</b></label>
            </div>
            <input type="text" placeholder="Enter Your Name Here" name="name" field="name" required />

            <div align="center">
                <label for="query"><b>Please Type Your Issue:</b></label>
            </div>
            <input type="text" placeholder="Enter Your Issue Here" name="query" field="query" required />

            <button type="submit" class="btn">Submit Query</button>
            <button type="button" class="btn cancel" onclick="closeQueryForm()">
                Close
            </button>
        </form>
    </div>

    <div class="form-feedback-popup" id="myFormFeedback">
        <form action="#" th:action="@{/feedback}" method="post" class="form-container">
            <h3 align="center">
                Please enter your feedback!
            </h3>
            <div align="center">
                <label for="name"><b>Please Enter Your Name:</b></label>
            </div>
            <!-- <input type="text" placeholder="Enter Your Name Here" name="name" field="name" required /> -->
            <h3 align="center">Please rate your experience from 1 - 5</h3>

                <label>1. Purchasing Tickets</label><br>

                <span class="star-rating">
                    <input type="radio" field="rating1" name="purchaseRating" value="1" required><i></i>
                    <input type="radio" field="rating1" name="purchaseRating" value="2"><i></i>
                    <input type="radio" field="rating1" name="purchaseRating" value="3"><i></i>
                    <input type="radio" field="rating1" name="purchaseRating" value="4"><i></i>
                    <input type="radio" field="rating1" name="purchaseRating" value="5"><i></i>
                </span>

                <div class="clear" ></div>
                <hr class="survey-hr">
                <label>2. Refunding Tickets</label><br>
                <span class="star-rating">
                    <input type="radio" field="rating2" name="refundRating" value="1" required><i></i>
                    <input type="radio" field="rating2" name="refundRating" value="2"><i></i>
                    <input type="radio" field="rating2" name="refundRating" value="3"><i></i>
                    <input type="radio" field="rating2" name="refundRating" value="4"><i></i>
                    <input type="radio" field="rating2" name="refundRating" value="5"><i></i>
                </span>
                <div class="clear" ></div>
                <hr class="survey-hr">
                <label>3. Accessing Customer Support</label><br>
                <span class="star-rating" style="border-color: #6772e5;">
                    <input type="radio" field="rating3" name="supportRating" value="1" required><i></i>
                    <input type="radio" field="rating3" name="supportRating" value="2"><i></i>
                    <input type="radio" field="rating3" name="supportRating" value="3"><i></i>
                    <input type="radio" field="rating3" name="supportRating" value="4"><i></i>
                    <input type="radio" field="rating3" name="supportRating" value="5"><i></i>
                </span>
                <div><br></div>
                <button type="submit" class="btn">Submit Your Feedback</button>
                <button type="button" class="btn cancel" onclick="closeFeedBackForm()">
                    Close
                </button>
            </form>
    </div>

    <div class="hero-image2">
        <div class="display-AD-text">
            <h1>50% OFF USING CODE:</h1>
        </div>
        <div class="display-AD-color-text">
            <h1>BRILLIO</h1>
        </div>
    </div>
    <script>
        function openQueryForm() {
            document.getElementById("myForm").style.display = "block";
        }

        function closeQueryForm() {
            document.getElementById("myForm").style.display = "none";
        }

        function openFeedbackForm() {
            document.getElementById("myFormFeedback").style.display = "block";
        }

        function closeFeedBackForm() {
            document.getElementById("myFormFeedback").style.display = "none";
        }
        
        function saveData(){
        	localStorage.clear();
            sessionStorage.clear();
        }
    </script>
</body>

</html>